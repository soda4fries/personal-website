---
import Heading from '@/components/Heading.astro';
import { buttonVariants } from '@/components/ui/button';
import type { LanguageCode } from '@/i18n/ui';
import { cn } from '@/lib/utils';
import { Calendar, Github, Instagram, Mail, Phone } from 'lucide-react';

import { ContactForm } from '../components/ContactForm.tsx';
import type { ContactFormTranslations } from '../type';

interface Props {
  lang: LanguageCode;
  mainHeadingTitle: string;
  mainHeadingDescription: string;
  formTitle: string;
  formTranslations: ContactFormTranslations;
  orSeparatorText: string;
  calendarTitle: string;
  calendarDescription: string;
  calendarLinkLabel: string;
  calendarUrl: string;
}

const {
  lang,
  mainHeadingTitle,
  mainHeadingDescription,
  formTitle,
  formTranslations,
  orSeparatorText,
  calendarTitle,
  calendarDescription,
  calendarLinkLabel,
  calendarUrl,
} = Astro.props;
---

<section class="py-12 md:py-16">
  <Heading
    title={mainHeadingTitle}
    description={mainHeadingDescription}
    showDivider={true}
    className="flex flex-col items-center justify-center"
    titleClassName="md:text-5xl"
  />

  <div class="grid lg:grid-cols-2 gap-8 mt-12 max-w-6xl mx-auto">
    {/* Contact Information & Social Links */}
    <div class="space-y-6">
      <div class="bg-card p-6 md:p-8 rounded-lg shadow border border-border/50">
        <Heading title="Get in Touch" className="text-center mb-6" />
        
        {/* Direct Contact */}
        <div class="space-y-4 mb-6">
          <a href="mailto:rahmanmahdinur@gmail.com" class="flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors group">
            <Mail className="size-5 text-primary" />
            <div>
              <div class="font-medium group-hover:text-primary transition-colors">Email</div>
              <div class="text-sm text-muted-foreground">rahmanmahdinur@gmail.com</div>
            </div>
          </a>
          
          <a href="tel:+60177149246" class="flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors group">
            <Phone className="size-5 text-primary" />
            <div>
              <div class="font-medium group-hover:text-primary transition-colors">Phone</div>
              <div class="text-sm text-muted-foreground">+60 177 149 246</div>
            </div>
          </a>
        </div>

        {/* Social Media */}
        <div class="border-t border-border/50 pt-6">
          <h3 class="text-lg font-semibold mb-4 text-center">Connect with me</h3>
          <div class="grid grid-cols-2 gap-3">
            <a href="https://github.com/soda4fries" target="_blank" rel="noopener noreferrer" 
               class="flex items-center justify-center gap-2 p-3 rounded-lg bg-muted/30 hover:bg-primary/10 hover:scale-105 transition-all group">
              <Github className="size-5 text-muted-foreground group-hover:text-primary transition-colors" />
              <span class="font-medium text-sm group-hover:text-primary transition-colors">GitHub</span>
            </a>
            
            <a href="https://instagram.com/mahdilikesfries" target="_blank" rel="noopener noreferrer"
               class="flex items-center justify-center gap-2 p-3 rounded-lg bg-muted/30 hover:bg-primary/10 hover:scale-105 transition-all group">
              <Instagram className="size-5 text-muted-foreground group-hover:text-primary transition-colors" />
              <span class="font-medium text-sm group-hover:text-primary transition-colors">Instagram</span>
            </a>
          </div>
        </div>
      </div>

      {/* Calendar Section */}
      <div class="bg-card p-6 md:p-8 rounded-lg shadow border border-border/50">
        <Heading
          title={calendarTitle}
          className="text-center mb-4"
          description={calendarDescription}
        />
        <a
          href={calendarUrl}
          target="_blank"
          rel="noopener noreferrer"
          class={cn(
            'w-full',
            buttonVariants({ variant: 'default', size: 'lg' })
          )}
        >
          <Calendar className="mr-2 size-4" />
          {calendarLinkLabel}
        </a>
      </div>
    </div>

    {/* Contact Form */}
    <div class="bg-card p-6 md:p-8 rounded-lg shadow border border-border/50">
      <Heading title={formTitle} className="text-center mb-6" />
      <ContactForm client:load {lang} {formTranslations} />
    </div>
  </div>
</section>
