---
import Heading from '@/components/Heading.astro';
import { buttonVariants } from '@/components/ui/button';
import type { LanguageCode } from '@/i18n/ui';
import { cn } from '@/lib/utils';
import { Calendar, Github, Instagram, Mail } from 'lucide-react';

import { ContactForm } from '../components/ContactForm.tsx';
import type { ContactFormTranslations } from '../type';

interface Props {
  lang: LanguageCode;
  mainHeadingTitle: string;
  mainHeadingDescription: string;
  formTitle: string;
  formTranslations: ContactFormTranslations;
  orSeparatorText: string;
  calendarTitle: string;
  calendarDescription: string;
  calendarLinkLabel: string;
  calendarUrl: string;
}

const {
  lang,
  mainHeadingTitle,
  mainHeadingDescription,
  formTitle,
  formTranslations,
  calendarTitle,
  calendarDescription,
  calendarLinkLabel,
  calendarUrl,
} = Astro.props;
---

<section class="py-12 md:py-16">
  <Heading
    title={mainHeadingTitle}
    description={mainHeadingDescription}
    showDivider={true}
    className="flex flex-col items-center justify-center"
    titleClassName="md:text-5xl"
  />

  <div class="grid lg:grid-cols-2 gap-8 mt-12 max-w-6xl mx-auto">
    {/* Left Column: Contact + Calendar */}
    <div class="space-y-6">
      {/* Contact Icons */}
      <div class="bg-card p-6 md:p-8 rounded-lg shadow border border-border/50">
        <Heading title="My Accounts" className="text-center mb-6" />

        <div class="flex justify-center gap-6">
          {/* Email */}
          <a href="mailto:rahmanmahdinur@gmail.com" 
             class="relative group flex items-center justify-center p-3 rounded-full bg-muted/30 hover:bg-primary/10 hover:scale-110 transition-all">
            <Mail className="size-6 text-muted-foreground group-hover:text-primary transition-colors" />
            <span class="absolute -top-10 opacity-0 group-hover:opacity-100 group-hover:-translate-y-1 text-sm text-muted-foreground bg-background border rounded px-2 py-1 shadow transition-all whitespace-nowrap">
              rahmanmahdinur@gmail.com
            </span>
          </a>

          {/* GitHub */}
          <a href="https://github.com/soda4fries" target="_blank" rel="noopener noreferrer"
             class="relative group flex items-center justify-center p-3 rounded-full bg-muted/30 hover:bg-primary/10 hover:scale-110 transition-all">
            <Github className="size-6 text-muted-foreground group-hover:text-primary transition-colors" />
            <span class="absolute -top-10 opacity-0 group-hover:opacity-100 group-hover:-translate-y-1 text-sm text-muted-foreground bg-background border rounded px-2 py-1 shadow transition-all whitespace-nowrap">
              @soda4fries
            </span>
          </a>

          {/* Instagram */}
          <a href="https://instagram.com/mahdilikesfries" target="_blank" rel="noopener noreferrer"
             class="relative group flex items-center justify-center p-3 rounded-full bg-muted/30 hover:bg-primary/10 hover:scale-110 transition-all">
            <Instagram className="size-6 text-muted-foreground group-hover:text-primary transition-colors" />
            <span class="absolute -top-10 opacity-0 group-hover:opacity-100 group-hover:-translate-y-1 text-sm text-muted-foreground bg-background border rounded px-2 py-1 shadow transition-all whitespace-nowrap">
              @mahdilikesfries
            </span>
          </a>
        </div>
      </div>

      {/* Calendar Section */}
      <div class="bg-card p-6 md:p-8 rounded-lg shadow border border-border/50">
        <Heading
          title={calendarTitle}
          className="text-center mb-4"
          description={calendarDescription}
        />
        <a
          href={calendarUrl}
          target="_blank"
          rel="noopener noreferrer"
          class={cn(
            'w-full flex justify-center items-center',
            buttonVariants({ variant: 'default', size: 'lg' })
          )}
        >
          <Calendar className="mr-2 size-4" />
          {calendarLinkLabel}
        </a>
      </div>
    </div>

    {/* Right Column: Contact Form */}
    <div class="bg-card p-6 md:p-8 rounded-lg shadow border border-border/50">
      <Heading title={formTitle} className="text-center mb-6" />
      <ContactForm client:load {lang} {formTranslations} />
    </div>
  </div>
</section>
